<%=form_tag(lessons_path, :class => 'form-search', :method => 'get') do%>
<%=search_field_tag(:query, params[:query], class: "search-query input-block-level", id: "search", placeholder: "Search >>", 'data-provide' => 'typeahead', 'data-items' => '4', 'data-minLength' => '3')%>
<%end%>
<%content_for :javascripts do%>
<%= javascript_tag "var autocomplete_items = #{ Subject.all.each.to_json };" %>
<script type="text/javascript">
    jQuery(document).ready(function() {
        $('#search').typeahead({source: autocomplete_items});
    });
</script>
<%end%>